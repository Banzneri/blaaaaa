<!DOCTYPE html>
<html>

    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <meta id="viewport" name="viewport" content ="width=device-width" />
        <link rel="stylesheet" type="text/css" href="css.css" />
        <link href="//fonts.googleapis.com/css?family=Muli" rel="stylesheet">
        <link rel="stylesheet" href="font-awesome-4.7.0\css\font-awesome.min.css">
        
        <title>EX NIHILO NIHIL FIT</title>
    </head>
    
    
    <body class="lomake">
    
        <div class="redBar" />
        <h1>EX NIHILO NIHIL FIT</h1>
        
        <div class="hamburgerIcon">
            <button onclick="myFunction()" style="background-color: transparent"><span class="fa fa-bars fa-2x" aria-hidden="true" style="color: white"></span></button>
        </div>
        
        <div class="navigationBar">
            <a href="index.html" class="navigationBarLinks etusivu">Etusivu</a>
            <a href="lomake.html" class="navigationBarLinks lomake">Lomake</a>
            <a href="taulukko.html" class="navigationBarLinks taulukko">Taulukko</a>
            <a href="#" class="navigationBarLinks">Laudantium</a>
            <a href="#" class="navigationBarLinks">Quisque</a>
            <a href="#" class="navigationBarLinks">Venenatis</a>
            <a href="#" class="navigationBarLinks">Dignissim</a>
            <a href="#" class="navigationBarLinks">Ultrices</a>
        </div>
        
        <div>
            <div class="contentLeft">
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis risus libero, 
                    efficitur ac mi in, consectetur varius eros. Fusce tristique lacus nec sapien 
                    scelerisque, non varius ante porttitor. Mauris eget ex in orci porta pulvinar. 
                    Sed sodales dignissim porta. Mauris tincidunt feugiat interdum. Ut non gravida 
                    libero. Mauris dapibus mi in risus porta, vel convallis nisl congue. Nam eleifend 
                    arcu eu nulla hendrerit, sit amet sagittis turpis accumsan. Mauris ut sapien 
                    eget ex fermentum pellentesque vitae sed lectus. Nunc tristique sapien id mi 
                    lacinia, sed semper justo facilisis. In bibendum ex eu pulvinar laoreet. Sed quis 
                    tincidunt erat. Mauris efficitur commodo ante, ut imperdiet enim. Vestibulum 
                    viverra orci in turpis sollicitudin, fringilla hendrerit dui fringilla. 
                </p>
            </div>
            
            <div class="contentCenter">
                <div id="hiddenNavBar">
                    <ul>
                        <li><a href="index.html" class="navigationBarLinks etusivu">Etusivu</a></li>
                        <li><a href="lomake.html" class="navigationBarLinks lomake">Lomake</a></li>
                        <li><a href="taulukko.html" class="navigationBarLinks taulukko">Taulukko</a></li>
                        <li><a href="#" class="navigationBarLinks">Laudantium</a></li>
                        <li><a href="#" class="navigationBarLinks">Quisque</a></li>
                        <li><a href="#" class="navigationBarLinks">Venenatis</a></li>
                        <li><a href="#" class="navigationBarLinks">Dignissim</a></li>
                        <li><a href="#" class="navigationBarLinks">Ultrices</a></li>
                    </ul>
                </div>
                <h2>Lomake</h2>
                
                <form name="lomake" action="" onsubmit="return validateForm()">
                    <div id="lastNameWrapper">
                        Sukunimesi:
                        
                        <div id="lastname" style="display: inline;">
                            <input id="lastnameinput" type="name" name="sukunimi" style="margin-left: 10px" onkeyup="validateWhileTyping(this.value)">
                        </div>
                        
                    </div>
                
                    <br>
                    
                    <div id="sexWrapper" float: up;>
                            <div id="sexText">Sukupuolesi:</div>

                            <div id="sex">
                                
                                <input type="radio" name="sukupuoli" value="mies" onclick="changeColor()"> Mies<br>
                                
                                <input type="radio" name="sukupuoli" value="nainen" onclick="changeColor()"> Nainen<br>
                                
                                <input type="radio" name="sukupuoli" value="other" onclick="changeColor()"> En halua sanoa
                                
                            </div>
                        
                    </div>
                
                    <br><br> 
                    
                    <div id="carWrapper">
                    
                        <div id="carText" style="display: inline;">Autosi:</div>
                        
                        <div id="car" style="margin-left: 35px">
                            
                            <select id="auto" style="margin-left: 5px" onchange="showField(this.options[this.selectedIndex].value)">
                                <option value="">Valitse automerkkisi:</option>
                                <option value="volvo">Lada</option>
                                <option value="saab">Mosse</option>
                                <option value="fiat">Volga</option>
                                <option value="varthburg">Varthburg</option>
                                <option value="ferrari">Ferrari</option>
                                <option value="muu">Muu</option>
                            </select>
                            
                        </div>
                        
                    </div>
                    
                    <div id="hiddenFormField" style="margin-left: 47px"></div>
                    
                    <br>
                    
                    <input type="submit" value="Submit" style="margin-left: 90px">
                </form>
                
                
                
            </div>
        </div>
        
        <script>

            var width = window.innerWidth;
            window.addEventListener('resize', function(event){
                var x = document.getElementById('hiddenNavBar');
                if(window.innerWidth != width){
                    x.style.display = 'none';
                }
            });
            
            function myFunction() {
                var x = document.getElementById('hiddenNavBar');
                if (x.style.display == 'block') {
                    x.style.display = 'none';
                } else {
                    x.style.display = 'block';
                }
            }
            
            function validateForm() {
                var sukunimi = document.forms["lomake"]["sukunimi"].value;
                var sukupuoli = document.forms["lomake"]["sukupuoli"].value;
                var e = document.getElementById("auto");
                var auto = e.options[e.selectedIndex].value;
                
                if (sukunimi.length < 3) {
                    var lastname = document.getElementById('lastnameinput');
                    setInvalidElement(lastname);
                }
                
                if(!atLeastOneRadio()) {
                    var sex = document.getElementById('sex');
                    setInvalidElement(sex);
                }
                
                if(auto.length == 0) {
                    var car = document.getElementById('auto');
                    setInvalidElement(car);
                }
                
                if(sukunimi.length >= 3 && atLeastOneRadio() && auto.length > 0) {
                    alert('Form was successfully sent.');
                    return true;
                }
                
                return false;

                
            }
        
            function showField(name){
                
                if(name!= '') {
                    var car = document.getElementById('auto');
                    setValidElement(car);
                }
                
                if(name == '') {
                    var car = document.getElementById('auto');
                    setInvalidElement(car);
                }
                
                if(name=='muu') {
                    document.getElementById('hiddenFormField').innerHTML='Muu:    <input type="text" name="muu" style="margin-left: 4px" />';
                } else {
                    document.getElementById('hiddenFormField').innerHTML='';
                }
            }

            function atLeastOneRadio() {
                var radios = document.getElementsByTagName('input');
                var value;
                
                for (var i = 0; i < radios.length; i++) {
                    if (radios[i].type === 'radio' && radios[i].checked) {
                        value = radios[i].value;
                        return true;
                    }
                }
                
                return false;
            }
        
            function validateWhileTyping(name) {

                if(name.length >= 3) {
                    var lastname = document.getElementById('lastnameinput');
                    setValidElement(lastname);
                }
            }

            function changeColor() {
                var sex = document.getElementById('sex');
                sex.style.backgroundColor = 'white';
                sex.style.borderStyle = 'none';
            }

            function setInvalidElement(element) {
                element.style.backgroundColor = 'yellow';
                element.style.borderStyle = 'solid';
                element.style.borderColor = '#900';
                element.style.borderWidth = '1px';
            }

            function setValidElement(element) {
                element.style.backgroundColor = 'white';
                element.style.borderStyle = 'solid';
                element.style.borderColor = 'black';
                element.style.borderWidth = '1px';
            }
        
        </script>
        
        </body>
    
</html>